import React, { useMemo, useState } from "react";

/**
 * Professional, single-file React homepage.
 * Styling: Tailwind.
 * Note: This version avoids external icon/animation libraries to prevent build-time network fetch errors.
 */

export default function CybersecurityProfessionalHomepage() {
  const [query, setQuery] = useState("");
  const filteredProjects = useMemo(() => {
    const q = query.trim().toLowerCase();
    if (!q) return projects;
    return projects.filter((p) => {
      const hay = [p.title, p.description, ...(p.stack || []), ...(p.impact || [])].join(" ").toLowerCase();
      return hay.includes(q);
    });
  }, [query]);

  return (
    <div className="min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50 text-slate-900">
      {/* Top glow */}
      <div className="pointer-events-none fixed inset-x-0 -top-24 h-64 bg-gradient-to-b from-slate-200/40 to-transparent blur-3xl" />

      {/* Header */}
      <header className="sticky top-0 z-50 border-b border-slate-200/60 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60">
        <div className="mx-auto max-w-6xl px-4 py-3 md:px-6 flex items-center justify-between gap-3">
          <div className="flex items-center gap-3">
            <div className="h-10 w-10 rounded-2xl bg-slate-900 text-white flex items-center justify-center shadow-sm">
              <Shield className="h-5 w-5" />
            </div>
            <div className="leading-tight">
              <div className="text-sm font-semibold">Brian Beals</div>
              <div className="text-xs text-slate-600">Cybersecurity Professional • Security Engineering • GRC</div>
            </div>
          </div>

          <nav className="hidden md:flex items-center gap-1">
            {["About", "Impact", "Experience", "Projects", "Skills", "Certifications", "Writing", "Contact"].map(
              (label) => {
                const id = label.toLowerCase().replace(/\s+/g, "-");
                return (
                  <a
                    key={label}
                    href={`#${id}`}
                    className="rounded-xl px-3 py-2 text-sm text-slate-700 hover:bg-slate-100"
                  >
                    {label}
                  </a>
                );
              }
            )}
          </nav>

          <div className="flex items-center gap-2">
            <Button variant="ghost" href="#contact">
              <Mail className="h-4 w-4" />
              Contact
            </Button>
          </div>
        </div>
      </header>

      {/* Hero */}
      <main>
        <div className="mx-auto max-w-6xl px-4 md:px-6 pt-12 md:pt-16 pb-10">
          <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            <div className="lg:col-span-7">
              <h1 className="text-3xl md:text-5xl font-semibold tracking-tight">
                Security outcomes that are measurable, defensible, and built for real-world operations.
              </h1>
              <p className="mt-4 text-base md:text-lg text-slate-700 max-w-2xl">
                I help organizations reduce risk through practical security engineering and governance—hardening
                systems, improving identity controls, strengthening monitoring, and turning compliance requirements
                into repeatable processes.
              </p>

              <div className="mt-6 flex flex-wrap gap-2">
                <Pill>
                  <Lock className="h-3.5 w-3.5 mr-1" /> Identity & Access
                </Pill>
                <Pill>
                  <Fingerprint className="h-3.5 w-3.5 mr-1" /> MFA & Least Privilege
                </Pill>
                <Pill>
                  <Radar className="h-3.5 w-3.5 mr-1" /> Risk & Assessments
                </Pill>
                <Pill>
                  <Server className="h-3.5 w-3.5 mr-1" /> Secure Configurations
                </Pill>
                <Pill>
                  <FileText className="h-3.5 w-3.5 mr-1" /> Policies & Evidence
                </Pill>
              </div>

              <div className="mt-8 flex flex-wrap items-center gap-3">
                {/* TODO: Replace links */}
                <Button href="#projects">
                  <Rocket className="h-4 w-4" /> View work
                  <ChevronRight className="h-4 w-4" />
                </Button>
                <Button variant="secondary" href="#contact">
                  <Briefcase className="h-4 w-4" /> Hiring inquiries
                </Button>
                <a
                  className="inline-flex items-center gap-2 rounded-2xl px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100"
                  href="#"
                >
                  <FileText className="h-4 w-4" /> Download resume <ExternalLink className="h-4 w-4" />
                </a>
              </div>

              <div className="mt-8 grid grid-cols-2 md:grid-cols-4 gap-3">
                {/* TODO: Replace metrics with your real numbers */}
                <Metric value="10+" label="Control domains covered" />
                <Metric value="20+" label="Security artifacts authored" />
                <Metric value="5+" label="Tooling integrations" />
                <Metric value="3" label="Programs operationalized" />
              </div>
            </div>

            <div className="lg:col-span-5">
              <Card className="p-5 md:p-6">
                <div className="flex items-start justify-between gap-4">
                  <div>
                    <div className="text-sm font-semibold">Availability</div>
                    <div className="mt-1 text-sm text-slate-600">Open to full-time or contract roles</div>
                  </div>
                  <span className="inline-flex items-center gap-1 rounded-full bg-emerald-50 px-2.5 py-1 text-xs font-semibold text-emerald-700 border border-emerald-100">
                    <span className="h-2 w-2 rounded-full bg-emerald-500" /> Actively interviewing
                  </span>
                </div>

                <div className="mt-5 grid gap-4">
                  <IconBadge icon={Award} label="Security engineering + GRC delivery" />
                  <IconBadge icon={CheckCircle2} label="Evidence-driven, audit-ready documentation" />
                  <IconBadge icon={Shield} label="Defense-in-depth mindset" />
                </div>

                <div className="mt-6 rounded-2xl border border-slate-200 bg-slate-50 p-4">
                  <div className="flex items-center gap-2 text-sm font-semibold">
                    <MapPin className="h-4 w-4" /> Based in
                  </div>
                  <div className="mt-1 text-sm text-slate-600">New York (remote-friendly)</div>
                </div>

                <div className="mt-6 flex flex-wrap gap-2">
                  {/* TODO: Update links */}
                  <a
                    href="#"
                    className="inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                  >
                    <Linkedin className="h-4 w-4" /> LinkedIn
                  </a>
                  <a
                    href="#"
                    className="inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                  >
                    <Github className="h-4 w-4" /> GitHub
                  </a>
                </div>
              </Card>

              <div className="mt-4 text-xs text-slate-500">
                Tip: replace placeholders (resume link, LinkedIn, GitHub, metrics) with your real data.
              </div>
            </div>
          </div>
        </div>

        {/* About */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section
            id="about"
            title="About"
            subtitle="A quick snapshot of how I work and what you can expect when you bring me in."
          >
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <Card className="p-5">
                <div className="flex items-center gap-2 text-sm font-semibold">
                  <Shield className="h-4 w-4" /> Approach
                </div>
                <p className="mt-2 text-sm text-slate-600">
                  Practical security engineering and governance that reduces risk without breaking the business.
                </p>
              </Card>
              <Card className="p-5">
                <div className="flex items-center gap-2 text-sm font-semibold">
                  <Lock className="h-4 w-4" /> Strengths
                </div>
                <p className="mt-2 text-sm text-slate-600">
                  Identity controls, secure configuration baselines, vulnerability management, and audit-ready
                  documentation.
                </p>
              </Card>
              <Card className="p-5">
                <div className="flex items-center gap-2 text-sm font-semibold">
                  <FileText className="h-4 w-4" /> Deliverables
                </div>
                <p className="mt-2 text-sm text-slate-600">
                  Clear artifacts: policies, procedures, responsibility matrices, evidence maps, and remediation
                  plans.
                </p>
              </Card>
            </div>
          </Section>
        </div>

        {/* Impact */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section
            id="impact"
            title="Impact"
            subtitle="Outcome-focused highlights (replace with your strongest, most quantifiable wins)."
          >
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-4">
              {[
                {
                  icon: CheckCircle2,
                  title: "Reduced exposure with prioritized remediation",
                  body: "Identified control gaps and delivered a roadmap to address critical risks first (MFA, least privilege, hardening, logging).",
                },
                {
                  icon: FileText,
                  title: "Improved audit readiness",
                  body: "Created repeatable documentation and evidence workflows, so security posture can be demonstrated consistently.",
                },
                {
                  icon: Shield,
                  title: "Strengthened security operations",
                  body: "Aligned stakeholders and vendors on practical security baselines and monitoring expectations.",
                },
              ].map((item) => (
                <Card key={item.title} className="p-5">
                  <div className="flex items-start gap-3">
                    <div className="h-10 w-10 rounded-2xl bg-slate-50 border border-slate-200 flex items-center justify-center">
                      <item.icon className="h-5 w-5" />
                    </div>
                    <div>
                      <div className="text-sm font-semibold">{item.title}</div>
                      <p className="mt-1 text-sm text-slate-600">{item.body}</p>
                    </div>
                  </div>
                </Card>
              ))}
            </div>
          </Section>
        </div>

        {/* Experience */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section
            id="experience"
            title="Experience"
            subtitle="Roles and responsibilities, focusing on outcomes and scope."
          >
            <div className="grid gap-4">
              {experience.map((job) => (
                <Card key={job.role} className="p-5 md:p-6">
                  <div className="flex flex-col md:flex-row md:items-start md:justify-between gap-3">
                    <div>
                      <div className="text-base font-semibold">{job.role}</div>
                      <div className="mt-1 text-sm text-slate-600">{job.company}</div>
                      <div className="mt-2 flex flex-wrap gap-2 text-xs text-slate-600">
                        <span className="inline-flex items-center gap-1">
                          <Briefcase className="h-3.5 w-3.5" /> {job.time}
                        </span>
                        <span className="inline-flex items-center gap-1">
                          <MapPin className="h-3.5 w-3.5" /> {job.location}
                        </span>
                      </div>
                    </div>
                    <div className="flex flex-wrap gap-2">
                      {(job.tags || []).map((t) => (
                        <Pill key={t}>{t}</Pill>
                      ))}
                    </div>
                  </div>

                  <ul className="mt-4 grid gap-2 text-sm text-slate-700">
                    {job.highlights.map((h, idx) => (
                      <li key={idx} className="flex gap-2">
                        <CheckCircle2 className="h-4 w-4 mt-0.5 text-slate-900" />
                        <span>{h}</span>
                      </li>
                    ))}
                  </ul>
                </Card>
              ))}
            </div>
          </Section>
        </div>

        {/* Projects */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section
            id="projects"
            title="Selected Work"
            subtitle="A curated set of accomplishments. Use the search to quickly filter by topic (e.g., “MFA”, “vulnerability”, “policy”)."
          >
            <div className="flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 shadow-sm">
              <Search className="h-4 w-4 text-slate-500" />
              <input
                value={query}
                onChange={(e) => setQuery(e.target.value)}
                placeholder="Search projects…"
                className="w-full bg-transparent text-sm outline-none placeholder:text-slate-400"
                aria-label="Search projects"
              />
            </div>

            <div className="mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4">
              {filteredProjects.map((p) => (
                <Card key={p.title} className="p-5 md:p-6">
                  <div className="flex items-start justify-between gap-4">
                    <div>
                      <div className="text-base font-semibold">{p.title}</div>
                      <p className="mt-2 text-sm text-slate-600">{p.description}</p>
                    </div>
                    <div className="h-10 w-10 rounded-2xl bg-slate-50 border border-slate-200 flex items-center justify-center">
                      <Rocket className="h-5 w-5" />
                    </div>
                  </div>

                  {p.impact?.length ? (
                    <div className="mt-4">
                      <div className="text-xs font-semibold text-slate-700">Impact</div>
                      <ul className="mt-2 grid gap-2 text-sm text-slate-700">
                        {p.impact.map((i, idx) => (
                          <li key={idx} className="flex gap-2">
                            <ChevronRight className="h-4 w-4 mt-0.5" />
                            <span>{i}</span>
                          </li>
                        ))}
                      </ul>
                    </div>
                  ) : null}

                  {p.stack?.length ? (
                    <div className="mt-4 flex flex-wrap gap-2">
                      {p.stack.map((s) => (
                        <Pill key={s}>{s}</Pill>
                      ))}
                    </div>
                  ) : null}

                  {p.links?.length ? (
                    <div className="mt-5 flex flex-wrap gap-2">
                      {p.links.map((l) => (
                        <a
                          key={l.label}
                          href={l.href}
                          className="inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                        >
                          {l.label} <ExternalLink className="h-4 w-4" />
                        </a>
                      ))}
                    </div>
                  ) : null}
                </Card>
              ))}
            </div>

            {filteredProjects.length === 0 ? (
              <div className="mt-6 text-sm text-slate-600">
                No matches. Try a different keyword (e.g., “hardening”, “audit”, “IR”).
              </div>
            ) : null}
          </Section>
        </div>

        {/* Skills */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section id="skills" title="Skills" subtitle="Grouped skills to help hiring managers scan quickly.">
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-4">
              {skills.map((s) => (
                <Card key={s.group} className="p-5">
                  <div className="flex items-center gap-2 text-sm font-semibold">
                    <s.icon className="h-4 w-4" /> {s.group}
                  </div>
                  <div className="mt-3 flex flex-wrap gap-2">
                    {s.items.map((it) => (
                      <Pill key={it}>{it}</Pill>
                    ))}
                  </div>
                </Card>
              ))}
            </div>
          </Section>
        </div>

        {/* Certifications */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section
            id="certifications"
            title="Certifications"
            subtitle="List relevant credentials. If you don’t have certifications, consider listing formal training instead."
          >
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              {certifications.map((c, idx) => (
                <Card key={idx} className="p-5">
                  <div className="flex items-start gap-3">
                    <div className="h-10 w-10 rounded-2xl bg-slate-50 border border-slate-200 flex items-center justify-center">
                      <Award className="h-5 w-5" />
                    </div>
                    <div>
                      <div className="text-sm font-semibold">{c.name}</div>
                      <div className="mt-1 text-sm text-slate-600">
                        {c.issuer} • {c.year}
                      </div>
                    </div>
                  </div>
                </Card>
              ))}
            </div>
          </Section>
        </div>

        {/* Writing / Talks */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10">
          <Section
            id="writing"
            title="Writing & Speaking"
            subtitle="Optional, but powerful. Share anything that demonstrates thought leadership."
          >
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              {publications.map((p, idx) => (
                <Card key={idx} className="p-5">
                  <div className="flex items-start justify-between gap-4">
                    <div>
                      <div className="text-sm font-semibold">{p.title}</div>
                      <div className="mt-1 text-sm text-slate-600">
                        {p.venue} • {p.year}
                      </div>
                    </div>
                    <a
                      href={p.href}
                      className="inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                    >
                      View <ExternalLink className="h-4 w-4" />
                    </a>
                  </div>
                </Card>
              ))}
            </div>
          </Section>
        </div>

        {/* Contact */}
        <div className="mx-auto max-w-6xl px-4 md:px-6 py-10 pb-16">
          <Section
            id="contact"
            title="Contact"
            subtitle="Make it easy for recruiters and hiring managers to reach you."
          >
            <div className="grid grid-cols-1 lg:grid-cols-12 gap-4">
              <Card className="p-5 md:p-6 lg:col-span-7">
                <div className="text-sm font-semibold">Send a message</div>
                <p className="mt-2 text-sm text-slate-600">
                  Use the links to email me or connect on LinkedIn. If you include a role description and your
                  timeline, I’ll reply quickly.
                </p>

                <div className="mt-5 flex flex-wrap gap-2">
                  {/* TODO: Replace with your email + LinkedIn */}
                  <Button href="mailto:you@example.com">
                    <Mail className="h-4 w-4" /> you@example.com
                  </Button>
                  <Button variant="secondary" href="#">
                    <Linkedin className="h-4 w-4" /> LinkedIn
                  </Button>
                </div>

                <div className="mt-6 rounded-2xl border border-slate-200 bg-slate-50 p-4">
                  <div className="text-xs font-semibold text-slate-700">What I’m looking for</div>
                  <ul className="mt-2 grid gap-2 text-sm text-slate-700">
                    <li className="flex gap-2">
                      <ChevronRight className="h-4 w-4 mt-0.5" />
                      Security Engineering, IAM, GRC, Security Operations
                    </li>
                    <li className="flex gap-2">
                      <ChevronRight className="h-4 w-4 mt-0.5" />
                      Roles where I can own outcomes and partner across teams
                    </li>
                    <li className="flex gap-2">
                      <ChevronRight className="h-4 w-4 mt-0.5" />
                      Remote-first or hybrid options
                    </li>
                  </ul>
                </div>
              </Card>

              <Card className="p-5 md:p-6 lg:col-span-5">
                <div className="text-sm font-semibold">Quick links</div>
                <div className="mt-4 grid gap-2">
                  {/* TODO: Replace with real URLs */}
                  <a
                    href="#"
                    className="group flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                  >
                    Resume <ExternalLink className="h-4 w-4 opacity-70 group-hover:opacity-100" />
                  </a>
                  <a
                    href="#"
                    className="group flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                  >
                    LinkedIn <ExternalLink className="h-4 w-4 opacity-70 group-hover:opacity-100" />
                  </a>
                  <a
                    href="#"
                    className="group flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-800 hover:bg-slate-50"
                  >
                    GitHub <ExternalLink className="h-4 w-4 opacity-70 group-hover:opacity-100" />
                  </a>
                </div>

                <div className="mt-6 text-xs text-slate-500">
                  Consider adding a short case study PDF and a sanitized architecture diagram to strengthen this
                  page.
                </div>
              </Card>
            </div>
          </Section>
        </div>

        {/* Footer */}
        <footer className="border-t border-slate-200 bg-white/60">
          <div className="mx-auto max-w-6xl px-4 md:px-6 py-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-3">
            <div className="text-sm text-slate-600">
              © {new Date().getFullYear()} Brian Beals. All rights reserved.
            </div>
            <div className="flex items-center gap-2 text-xs text-slate-500">
              <span className="inline-flex items-center gap-1">
                <Shield className="h-4 w-4" /> Built with React
              </span>
              <span className="inline-flex items-center gap-1">
                <CheckCircle2 className="h-4 w-4" /> Professional portfolio
              </span>
            </div>
          </div>
        </footer>
      </main>
    </div>
  );
}
